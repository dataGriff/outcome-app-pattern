dataContractSpecification: 1.2.0
id: urn:outcome-app-pattern:data-product:button-click-event
info:
  title: Button Click Event Data Contract
  version: 1.0.0
  description: Contract for storing button click events and generated colours.
  owner: Data Team
  contact:
    name: Data Team
    email: data@example.com

servers:
  minio:
    type: s3
    location: minio://data-product/clicks
    format: delta

models:
  button_click_event:
    description: Event representing a button click and the generated colour.
    type: object
    fields:
      colour:
        type: string
        description: The generated colour (red, amber, or green).
        enum: [red, amber, green]
      timestamp:
        type: string
        format: date-time
        description: The time the colour was generated.

  daily_colour_aggregate:
    description: Aggregates the number of click events per colour per day.
    type: object
    fields:
      date:
        type: string
        format: date
        description: The day of the aggregation (YYYY-MM-DD).
      colour:
        type: string
        description: The colour being aggregated (red, amber, or green).
        enum: [red, amber, green]
      count:
        type: integer
        description: The number of click events for the given colour on the given day.

servicelevels:
  availability:
    description: The server is available during support hours.
    percentage: 99.9%
  retention:
    description: Data is retained for one year.
    period: P1Y
    unlimited: false
  latency:
    description: Data is available within 1 hour after the event was generated.
    threshold: 1h
    sourceTimestampField: button_click_event.timestamp
  freshness:
    description: The age of the youngest row in a table.
    threshold: 1h
    timestampField: button_click_event.timestamp
  frequency:
    description: Data is delivered in near real-time.
    type: streaming
  support:
    description: The data is available during typical business hours.
    time: 9am to 5pm in UTC on business days
    responseTime: 1h
  backup:
    description: Data is backed up once a week, every Sunday at 0:00 UTC.
    interval: weekly
    cron: 0 0 * * 0
    recoveryTime: 24 hours